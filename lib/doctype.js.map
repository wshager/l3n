{"version":3,"sources":["../src/doctype.js"],"names":["serialize","deserialize","qname","publicId","systemId","_split","source","buf","reg","lastIndex","match","exec","push","str","parts","replace","trim","len","length","type"],"mappings":";;;;;QAAgBA,S,GAAAA,S;QAoBAC,W,GAAAA,W;AApBT,SAASD,SAAT,CAAmBE,KAAnB,EAAyBC,QAAzB,EAAkCC,QAAlC,EAA4C;AAClD,QAAOF,SACIC,WAAW,eAAeA,QAAf,GAA0B,IAArC,GAA4C,EADhD,KAEI,CAACA,QAAD,IAAaC,QAAb,GAAwB,SAAxB,GAAoC,EAFxC,KAGIA,WAAW,QAAQA,QAAR,GAAmB,IAA9B,GAAqC,EAHzC,CAAP;AAIA;;AAED;AACA,SAASC,MAAT,CAAgBC,MAAhB,EAAwB;AACvB,KAAIC,MAAM,EAAV;AACA,KAAIC,MAAM,6BAAV;AACAA,KAAIC,SAAJ,GAAgB,CAAhB;AACA,KAAIC,QAAQF,IAAIG,IAAJ,CAASL,MAAT,CAAZ;AACA,QAAOI,KAAP,EAAc;AACbH,MAAIK,IAAJ,CAASF,KAAT;AACAA,UAAQF,IAAIG,IAAJ,CAASL,MAAT,CAAR;AACA;AACD,QAAOC,GAAP;AACA;;AAEM,SAASN,WAAT,CAAqBY,GAArB,EAA0B;AAChC,OAAMC,QAAQT,OAAOQ,IAAIE,OAAJ,CAAY,MAAZ,EAAoB,GAApB,EAAyBC,IAAzB,EAAP,CAAd;AACA,OAAMC,MAAMH,MAAMI,MAAlB;AACA,KAAGD,OAAO,CAAV,EAAa,OAAO,CAACH,MAAM,CAAN,EAAS,CAAT,CAAD,EAAa,EAAb,EAAgB,EAAhB,CAAP;AACb,OAAMK,OAAOL,MAAM,CAAN,EAAS,CAAT,CAAb;AACA,KAAGK,QAAQ,QAAX,EAAqB;AACpB,SAAO,CAACL,MAAM,CAAN,EAAS,CAAT,CAAD,EAAaA,MAAM,CAAN,EAAS,CAAT,CAAb,EAAyBA,MAAM,CAAN,EAAS,CAAT,CAAzB,CAAP;AACA;AACD,KAAGK,QAAQ,QAAX,EAAqB;AACpB,SAAO,CAACL,MAAM,CAAN,EAAS,CAAT,CAAD,EAAa,EAAb,EAAgBA,MAAM,CAAN,EAAS,CAAT,CAAhB,CAAP;AACA;AACD","file":"doctype.js","sourcesContent":["export function serialize(qname,publicId,systemId) {\r\n\treturn qname\r\n         + (publicId ? \" PUBLIC \\\"\" + publicId + \"\\\"\" : \"\")\r\n         + (!publicId && systemId ? \" SYSTEM\" : \"\")\r\n         + (systemId ? \" \\\"\" + systemId + \"\\\"\" : \"\");\r\n}\r\n\r\n// adapted from https://github.com/jindw/xmldom\r\nfunction _split(source) {\r\n\tvar buf = [];\r\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s/=]+=?/g;\r\n\treg.lastIndex = 0;\r\n\tvar match = reg.exec(source);\r\n\twhile (match) {\r\n\t\tbuf.push(match);\r\n\t\tmatch = reg.exec(source);\r\n\t}\r\n\treturn buf;\r\n}\r\n\r\nexport function deserialize(str) {\r\n\tconst parts = _split(str.replace(/\\s+/g, \" \").trim());\r\n\tconst len = parts.length;\r\n\tif(len == 1) return [parts[0][0],\"\",\"\"];\r\n\tconst type = parts[1][0];\r\n\tif(type == \"PUBLIC\") {\r\n\t\treturn [parts[0][0],parts[2][0],parts[3][0]];\r\n\t}\r\n\tif(type == \"SYSTEM\") {\r\n\t\treturn [parts[0][0],\"\",parts[2][0]];\r\n\t}\r\n}\r\n"]}